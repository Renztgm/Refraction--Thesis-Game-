[gd_scene load_steps=10 format=3 uid="uid://cqajbu24xh8af"]

[ext_resource type="Script" uid="uid://bdt2j4ph8b8no" path="res://script/BookstoreMarker.gd" id="3_apgs4"]
[ext_resource type="PackedScene" uid="uid://cc2bs557jdqgg" path="res://scenes/Npc2_No_sound.tscn" id="4_ptomh"]
[ext_resource type="Script" uid="uid://bd0jlfvbuskwa" path="res://scenes/TestingScenes/grid.gd" id="6_apgs4"]

[sub_resource type="NavigationMesh" id="NavigationMesh_fergp"]
vertices = PackedVector3Array(-99.5, -0.58868, -99.5, -99.5, -0.58868, 99.5, 99.5, -0.58868, 99.5, 99.5, -0.58868, -99.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
agent_height = 2.0
agent_max_climb = 0.9
region_min_size = 9.0

[sub_resource type="BoxMesh" id="BoxMesh_3yu1h"]
size = Vector3(200, 1, 200)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_apdmm"]
sky_top_color = Color(0.455, 0.7, 0.56525, 1)
sky_horizon_color = Color(0, 0.588235, 0.364706, 1)
sky_curve = 0.243676
sky_cover_modulate = Color(0.658824, 0.901961, 0.811765, 1)
ground_bottom_color = Color(0, 0.588235, 0.364706, 1)
ground_horizon_color = Color(0.454902, 0.701961, 0.564706, 1)

[sub_resource type="Sky" id="Sky_prnq5"]
sky_material = SubResource("ProceduralSkyMaterial_apdmm")

[sub_resource type="Environment" id="Environment_usij0"]
background_mode = 2
sky = SubResource("Sky_prnq5")
ambient_light_source = 2
ambient_light_color = Color(0.674815, 0.674815, 0.674815, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_to5kf"]

[node name="Node3D" type="Node3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.282947, 0)
navigation_mesh = SubResource("NavigationMesh_fergp")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.151081, 0)
mesh = SubResource("BoxMesh_3yu1h")

[node name="Environment" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_usij0")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
light_color = Color(0.647059, 1, 0.478431, 1)
sky_mode = 1

[node name="Plane" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.128864, 0, -0.251266)
use_collision = true
size = Vector3(200, 1, 200)

[node name="Npc2" parent="." instance=ExtResource("4_ptomh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -83.5352, 2.65567, 84.0536)
collision_mask = 2

[node name="walls" type="Node3D" parent="."]

[node name="CSGBox3D5" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 0.997013, -0.0772411, 0, 0.0772411, 0.997013, -3.20424, 3.97364, 5.47466)
use_collision = true
collision_layer = 2
size = Vector3(125.444, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D2" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 60.4741, 2.44678, -77.1453)
layers = 2
use_collision = true
collision_layer = 2
size = Vector3(4.71667, 8.35059, 38.5211)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D3" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 0.999253, -0.0386494, 0, 0.0386494, 0.999253, 46.5744, 2.44678, -28.7856)
use_collision = true
collision_layer = 2
size = Vector3(107.705, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D4" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 0.999253, -0.0386494, 0, 0.0386494, 0.999253, -51.028, 2.44678, 72.3173)
use_collision = true
collision_layer = 2
size = Vector3(36.9263, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D6" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -98.9965, 2.44678, -0.399891)
layers = 2
use_collision = true
collision_layer = 2
size = Vector3(5, 10, 199.847)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D7" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 0.997013, -0.077241, 0, 0.077241, 0.997013, -0.441513, 3.43464, -98.1777)
use_collision = true
collision_layer = 2
size = Vector3(201.065, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D8" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 24.9521, 2.44678, 83.5029)
use_collision = true
collision_layer = 2
size = Vector3(32.4437, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D9" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.40577, 1.95702, -62.8231)
use_collision = true
collision_layer = 2
size = Vector3(121.114, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D10" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 0.988068, -0.154021, 0, 0.154021, 0.988068, -15.9177, 1.60752, 36.0161)
use_collision = true
collision_layer = 2
size = Vector3(170.952, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D11" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -50.7488, 2.44678, -26.0777)
use_collision = true
collision_layer = 2
size = Vector3(70.7611, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D12" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -32.6663, 2.44678, 85.4841)
use_collision = true
collision_layer = 2
size = Vector3(31.5228, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D13" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3.89679, 2.44678, 54.0256)
use_collision = true
collision_layer = 2
size = Vector3(42.5681, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D14" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 0.988068, -0.154021, 0, 0.154021, 0.988068, 58.0262, 1.60752, 69.5329)
use_collision = true
collision_layer = 2
size = Vector3(67.0112, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D15" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 57.2862, 1.42745, 5.98315)
use_collision = true
collision_layer = 2
size = Vector3(26.9212, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="Grid" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.28204, 0)
script = ExtResource("6_apgs4")

[node name="Grid_MeshInstance" type="MeshInstance3D" parent="Grid"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 100, 0)
fov = 92.1493

[node name="Structures" type="Node3D" parent="."]

[node name="Building" type="Node3D" parent="Structures"]

[node name="Bookstore" type="Node3D" parent="Structures/Building"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 73.0894, 0, -84.5569)

[node name="BookstoreMarker" type="Node3D" parent="Structures/Building/Bookstore"]
script = ExtResource("3_apgs4")

[node name="CSGBox3D" type="CSGBox3D" parent="Structures/Building/Bookstore/BookstoreMarker"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.2386, 2.44678, -1.52759)
size = Vector3(4.71667, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")

[node name="CSGBox3D8" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 62.9208, 2.44678, 80.541)
use_collision = true
collision_layer = 2
size = Vector3(22.5538, 8.35059, 4.05518)
material = SubResource("StandardMaterial3D_to5kf")
